<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <link href="https://unpkg.com/tailwindcss@^2/dist/tailwind.min.css" rel="stylesheet">
  <title>WATCH LIST</title>
</head>

<body class="bg-gradient-to-r from-green-900 to-purple-900">
  <nav class=" mx-auto px-3">
    <div class="max-w-7xl mx-auto bg-opacity-80 bg-gray-800">
      <div class="flex justify-between">
        <div class="flex space-x-4 py-5 px-3 text-gray-500">
          <div id="home"></div>
          <div id="watchlist"></div>
        </div>
        <div>
          <h1 class="text-6xl font-bold text-gray-600">WATCHLIST</h1>
        </div>
        <div class="flex space-x-4 py-5 px-3 text-gray-500">
          <div id="film"></div>
          <div id="search"></div>
          <div id="logout"></div>
        </div>
      </div>
    </div>
    <div>
      <% if (locals.logout) { %>
        <script>
            localStorage.clear()
        </script>
      <% } %>
      <script>
          let user = localStorage.getItem('user')
          let userId = localStorage.getItem('userId')
          console.log(user)
          if (user) {
              document.getElementById('logout').innerHTML = "<a class='text-xs hover:underline hover:text-gray-900 font-bold' href='/user/logout'>LOGOUT</a>"
              document.getElementById('watchlist').innerHTML = `<a class='flex items-center hover:underline hover:text-gray-900 font-bold' href='/watchlist/${userId}'><svg xmlns='http://www.w3.org/2000/svg' class='h-6 w-6' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z' /></svg><span>Watchlist</span></a>`
              document.getElementById('search').innerHTML = "<a class='text-xs bg-yellow-500 hover:bg-yellow-300 text-white rounded flex items-center hover:underline transition duration-200 py-1 px-1 font-bold' href='/user'><span>Search Movie</span><svg xmlns='http://www.w3.org/2000/svg' class='h-5 w-5' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z' /></svg></a>"
          } else {
            document.getElementById('home').innerHTML = "<a class='flex items-center hover:underline hover:text-gray-900 font-bold' href='/'> <svg xmlns='http://www.w3.org/2000/svg' class='h-7 w-7' viewBox='0 0 20 20' fill='currentColor'><path d='M10.707 2.293a1 1 0 00-1.414 0l-7 7a1 1 0 001.414 1.414L4 10.414V17a1 1 0 001 1h2a1 1 0 001-1v-2a1 1 0 011-1h2a1 1 0 011 1v2a1 1 0 001 1h2a1 1 0 001-1v-6.586l.293.293a1 1 0 001.414-1.414l-7-7z' /></svg><span>HOME</span></a>"
            document.getElementById('film').innerHTML = `<a class='flex items-center font-bold'><span>Create Watchlist</span><svg xmlns='http://www.w3.org/2000/svg' class='h-8 w-8' fill='none' viewBox='0 0 24 24' stroke='currentColor'><path stroke-linecap='round' stroke-linejoin='round' stroke-width='2' d='M7 4v16M17 4v16M3 8h4m10 0h4M3 12h18M3 16h4m10 0h4M4 20h16a1 1 0 001-1V5a1 1 0 00-1-1H4a1 1 0 00-1 1v14a1 1 0 001 1z' /></svg></a>`
          }
      </script>
    </div>
  </nav>
  <main class="container bg-gradient-to-r from-green-900 to-purple-900">
    <%- body %>
  </main>
</body>
</html>


